<div class="well">
  <div class="row">
    <div class="col-sm-6"><h1 class="heading">Task Editor</h1></div>

    <div class="col-sm-6">
      <!--  Not in editor mode -->
      <a *ngIf="!task" routerLink="/administration/" class="btn btn-default task-util-button">Back</a>
      <a *ngIf="!task" class="btn btn-blue task-util-button" (click)="openTaskDialog()">New Task</a>

      <!-- In editor mode -->
      <a *ngIf="task" routerLink="/administration/" class="btn btn-default task-util-button">Cancel</a>
      <a *ngIf="task" routerLink="/dashboard/" class="btn btn-red task-util-button" (click)="submitTask()">Save</a>

    </div>

  </div>


  <div *ngIf="task">

    <!-- Event container -->
    <div class="event-container">
      <div class="row">
        <div class="col-sm-12"><h3 >Event</h3></div>
      </div>


      <div class="row">
        <md-radio-group [(ngModel)]="eventType">
          <div class="col-lg-2">
            <md-radio-button value=0>Manual</md-radio-button>
          </div>
          <div class="col-lg-2">
            <md-radio-button value=1>Event</md-radio-button>
          </div>
        </md-radio-group>



        <div *ngIf="eventType==1">
          <div class="col-lg-8">
            <div class="select-container">
              <md-select placeholder="Event" [(ngModel)]="task.event" (change)="eventChange()">
                  <md-option *ngFor="let ev of events" [value]="ev">{{ ev.name }}</md-option>
              </md-select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Actions container -->
    <div class="actions-container">
      <div class="row"><div class="col-sm-12"><h3>Actions</h3></div></div>

      <p *ngIf="!task.actions.length" class="center"> Pick an action below </p>

      <unit *ngFor="let unit of task.actions" [task]="task" [unit]="unit"></unit>

      <div class="center"><a class="btn btn-blue" (click)="openUnitDialog()">Add Action</a></div>

    </div>
  </div>
</div>
